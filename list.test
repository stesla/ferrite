#!./fe

((;; (ASSERT actual expected label)
  ((LD (1.1) LD (1.2) EQ SEL (JOIN) (LDC "not " LDC 1 PUT JOIN)
       LDC "ok " LDC 1 PUT
       LD (1.3) LDC 1 PUT
       LDC #\x0A LDC 1 PUT
       RTN) . NIL)))

(LDC "1..10\n" LDC 1 PUT
 NIL LDC "1" CONS NIL CONS NIL CAR CONS LD (1.1) AP
 NIL LDC "2" CONS NIL CONS NIL CDR CONS LD (1.1) AP
 NIL LDC "3" CONS LDC 6 CONS LDC (6.7) CAR CONS LD (1.1) AP
 NIL LDC "4" CONS LDC 7 CONS LDC (6.7) CDR CONS LD (1.1) AP
 NIL LDC "5" CONS LDC #t CONS LDC #f ATOMP CONS LD (1.1) AP
 NIL LDC "6" CONS LDC #t CONS LDC #\a ATOMP CONS LD (1.1) AP
 NIL LDC "7" CONS LDC #t CONS LDC 42 ATOMP CONS LD (1.1) AP
 NIL LDC "8" CONS LDC #t CONS LDC "foo" ATOMP CONS LD (1.1) AP
 NIL LDC "9" CONS LDC #t CONS NIL ATOMP CONS LD (1.1) AP
 NIL LDC "10" CONS LDC #f CONS LDC (6.7) ATOMP CONS LD (1.1) AP)